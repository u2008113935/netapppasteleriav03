<?xml version="1.0" encoding="UTF-8" ?>
<Shell
    x:Class="apppasteleriav03.AppShell"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:apppasteleriav03.Views"
    Title="Delicia">

    <!-- FlyouHeader con avatar, nombre y boton para editar el perfil -->
    <Shell.FlyoutHeader>
        <Grid BackgroundColor="{StaticResource PrimaryColor}" Padding="12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Image Source="avatar_placeholder.png"
                   HeightRequest="56" WidthRequest="56"
                   Aspect="AspectFill"
                   Grid.Column="0"
                   VerticalOptions="Center"/>

            <StackLayout Grid.Column="1" VerticalOptions="Center" Spacing="2">

                <Label Text="{Binding CurrentProfile.FullName}" 
                       TextColor="White" 
                       FontAttributes="Bold"/>
                <Label Text="{Binding CurrentProfile.Email}"
                       TextColor="White"
                       FontSize="12"/>
                <Button Grid.Column="2"
                        Text="Editar Perfil"
                        BackgroundColor="Transparent"
                        TextColor="White"
                        FontAttributes="Bold"
                        Clicked="OnEditProfileClicked"/>

            </StackLayout>


        </Grid>
    </Shell.FlyoutHeader>
    
    
    <!-- TabBar Barra inferior con pestañas -->

    <TabBar>
        <ShellContent Title="Catálogo"
                      Route="catalog"
                      ContentTemplate="{DataTemplate local:MainPage}">
            <ShellContent.Icon>
            <FontImageSource FontFamily="MaterialIcons" 
                                     Glyph="home" 
                                     Color="{StaticResource PrimaryColor}"/>
            </ShellContent.Icon>
        </ShellContent>


        <ShellContent Title="Carrito"                      
                      Route="cart"
                      ContentTemplate="{DataTemplate local:CartPage}">
            <ShellContent.Icon>
                <FontImageSource FontFamily="MaterialIcons" 
                          Glyph="shopping_cart" 
                          Color="{StaticResource PrimaryColor}"/>
            </ShellContent.Icon>
        </ShellContent>
        <ShellContent Title="Pedidos"                    
                      Route="orders"
                      ContentTemplate="{DataTemplate local:OrdersPage}">
            <ShellContent.Icon>
                <FontImageSource FontFamily="MaterialIcons" 
                          Glyph="receipt_long" 
                          Color="{StaticResource PrimaryColor}"/>
            </ShellContent.Icon>
        </ShellContent>
    </TabBar>

  

</Shell>
